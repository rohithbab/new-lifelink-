2025-02-28 04:35:28 - Search request started
----------------------------------------
2025-02-28 04:35:28 - POST data received:
Array
(
    [organType] => k
)

----------------------------------------
2025-02-28 04:35:28 - Hospital ID:
26
----------------------------------------
2025-02-28 04:35:28 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => 
)

----------------------------------------
2025-02-28 04:35:28 - Search term is required
----------------------------------------
2025-02-28 04:35:29 - Search request started
----------------------------------------
2025-02-28 04:35:29 - POST data received:
Array
(
    [organType] => ki
)

----------------------------------------
2025-02-28 04:35:29 - Hospital ID:
26
----------------------------------------
2025-02-28 04:35:29 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => 
)

----------------------------------------
2025-02-28 04:35:29 - Search term is required
----------------------------------------
2025-02-28 04:35:30 - Search request started
----------------------------------------
2025-02-28 04:35:30 - POST data received:
Array
(
    [organType] => k
)

----------------------------------------
2025-02-28 04:35:30 - Hospital ID:
26
----------------------------------------
2025-02-28 04:35:30 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => 
)

----------------------------------------
2025-02-28 04:35:30 - Search term is required
----------------------------------------
2025-02-28 04:35:30 - Search request started
----------------------------------------
2025-02-28 04:35:30 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-02-28 04:35:30 - Hospital ID:
26
----------------------------------------
2025-02-28 04:35:30 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => 
)

----------------------------------------
2025-02-28 04:35:30 - Search term is required
----------------------------------------
2025-02-28 04:35:30 - Search request started
----------------------------------------
2025-02-28 04:35:30 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-02-28 04:35:30 - Hospital ID:
26
----------------------------------------
2025-02-28 04:35:30 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => 
)

----------------------------------------
2025-02-28 04:35:30 - Search term is required
----------------------------------------
2025-02-28 04:35:31 - Search request started
----------------------------------------
2025-02-28 04:35:31 - POST data received:
Array
(
    [organType] => liv
)

----------------------------------------
2025-02-28 04:35:31 - Hospital ID:
26
----------------------------------------
2025-02-28 04:35:31 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => 
)

----------------------------------------
2025-02-28 04:35:31 - Search term is required
----------------------------------------
2025-02-28 04:35:31 - Search request started
----------------------------------------
2025-02-28 04:35:31 - POST data received:
Array
(
    [organType] => live
)

----------------------------------------
2025-02-28 04:35:31 - Hospital ID:
26
----------------------------------------
2025-02-28 04:35:31 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => 
)

----------------------------------------
2025-02-28 04:35:31 - Search term is required
----------------------------------------
2025-02-28 04:35:32 - Search request started
----------------------------------------
2025-02-28 04:35:32 - POST data received:
Array
(
    [organType] => liv
)

----------------------------------------
2025-02-28 04:35:32 - Hospital ID:
26
----------------------------------------
2025-02-28 04:35:32 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => 
)

----------------------------------------
2025-02-28 04:35:32 - Search term is required
----------------------------------------
2025-02-28 04:35:32 - Search request started
----------------------------------------
2025-02-28 04:35:32 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-02-28 04:35:32 - Hospital ID:
26
----------------------------------------
2025-02-28 04:35:32 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => 
)

----------------------------------------
2025-02-28 04:35:32 - Search term is required
----------------------------------------
2025-02-28 04:35:32 - Search request started
----------------------------------------
2025-02-28 04:35:32 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-02-28 04:35:32 - Hospital ID:
26
----------------------------------------
2025-02-28 04:35:32 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => 
)

----------------------------------------
2025-02-28 04:35:32 - Search term is required
----------------------------------------
2025-02-28 04:36:36 - Search request started
----------------------------------------
2025-02-28 04:36:36 - POST data received:
Array
(
    [organType] => k
)

----------------------------------------
2025-02-28 04:36:36 - Hospital ID:
26
----------------------------------------
2025-02-28 04:36:36 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => k
)

----------------------------------------
2025-02-28 04:36:36 - Existing status values in hospital_recipient_approvals:
Array
(
    [0] => rejected
    [1] => approved
    [2] => pending
)

----------------------------------------
2025-02-28 04:36:36 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        WHERE hra.status IN (?,?,?)
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 04:36:36 - Query Parameters:
Array
(
    [0] => rejected
    [1] => approved
    [2] => pending
    [3] => 26
    [4] => %k%
)

----------------------------------------
2025-02-28 04:36:36 - Number of results found:
0
----------------------------------------
2025-02-28 04:36:36 - No results found
----------------------------------------
2025-02-28 04:36:36 - Recipients by status:
Array
(
    [0] => Array
        (
            [count] => 2
            [status] => pending
        )

    [1] => Array
        (
            [count] => 4
            [status] => approved
        )

    [2] => Array
        (
            [count] => 1
            [status] => rejected
        )

)

----------------------------------------
2025-02-28 04:36:36 - Sample recipient record:
Array
(
    [id] => 1
    [full_name] => amrecipient
    [status] => rejected
)

----------------------------------------
2025-02-28 04:36:36 - Formatted results:
Array
(
)

----------------------------------------
2025-02-28 04:36:36 - Search request completed
----------------------------------------
2025-02-28 04:36:36 - Search request started
----------------------------------------
2025-02-28 04:36:36 - POST data received:
Array
(
    [organType] => ki
)

----------------------------------------
2025-02-28 04:36:36 - Hospital ID:
26
----------------------------------------
2025-02-28 04:36:36 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => ki
)

----------------------------------------
2025-02-28 04:36:36 - Existing status values in hospital_recipient_approvals:
Array
(
    [0] => rejected
    [1] => approved
    [2] => pending
)

----------------------------------------
2025-02-28 04:36:36 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        WHERE hra.status IN (?,?,?)
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 04:36:36 - Query Parameters:
Array
(
    [0] => rejected
    [1] => approved
    [2] => pending
    [3] => 26
    [4] => %ki%
)

----------------------------------------
2025-02-28 04:36:36 - Number of results found:
0
----------------------------------------
2025-02-28 04:36:36 - No results found
----------------------------------------
2025-02-28 04:36:36 - Recipients by status:
Array
(
    [0] => Array
        (
            [count] => 2
            [status] => pending
        )

    [1] => Array
        (
            [count] => 4
            [status] => approved
        )

    [2] => Array
        (
            [count] => 1
            [status] => rejected
        )

)

----------------------------------------
2025-02-28 04:36:36 - Sample recipient record:
Array
(
    [id] => 1
    [full_name] => amrecipient
    [status] => rejected
)

----------------------------------------
2025-02-28 04:36:36 - Formatted results:
Array
(
)

----------------------------------------
2025-02-28 04:36:36 - Search request completed
----------------------------------------
2025-02-28 04:36:37 - Search request started
----------------------------------------
2025-02-28 04:36:37 - POST data received:
Array
(
    [organType] => k
)

----------------------------------------
2025-02-28 04:36:37 - Hospital ID:
26
----------------------------------------
2025-02-28 04:36:37 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => k
)

----------------------------------------
2025-02-28 04:36:37 - Existing status values in hospital_recipient_approvals:
Array
(
    [0] => rejected
    [1] => approved
    [2] => pending
)

----------------------------------------
2025-02-28 04:36:37 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        WHERE hra.status IN (?,?,?)
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 04:36:37 - Query Parameters:
Array
(
    [0] => rejected
    [1] => approved
    [2] => pending
    [3] => 26
    [4] => %k%
)

----------------------------------------
2025-02-28 04:36:37 - Number of results found:
0
----------------------------------------
2025-02-28 04:36:37 - No results found
----------------------------------------
2025-02-28 04:36:37 - Recipients by status:
Array
(
    [0] => Array
        (
            [count] => 2
            [status] => pending
        )

    [1] => Array
        (
            [count] => 4
            [status] => approved
        )

    [2] => Array
        (
            [count] => 1
            [status] => rejected
        )

)

----------------------------------------
2025-02-28 04:36:37 - Sample recipient record:
Array
(
    [id] => 1
    [full_name] => amrecipient
    [status] => rejected
)

----------------------------------------
2025-02-28 04:36:37 - Formatted results:
Array
(
)

----------------------------------------
2025-02-28 04:36:37 - Search request completed
----------------------------------------
2025-02-28 04:36:38 - Search request started
----------------------------------------
2025-02-28 04:36:38 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-02-28 04:36:38 - Hospital ID:
26
----------------------------------------
2025-02-28 04:36:38 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-02-28 04:36:38 - Existing status values in hospital_recipient_approvals:
Array
(
    [0] => rejected
    [1] => approved
    [2] => pending
)

----------------------------------------
2025-02-28 04:36:38 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        WHERE hra.status IN (?,?,?)
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 04:36:38 - Query Parameters:
Array
(
    [0] => rejected
    [1] => approved
    [2] => pending
    [3] => 26
    [4] => %l%
)

----------------------------------------
2025-02-28 04:36:38 - Number of results found:
3
----------------------------------------
2025-02-28 04:36:38 - First result:
Array
(
    [recipient_id] => 4
    [recipient_name] => Gopal varma
    [blood_type] => B+
    [organ_required] => liver
    [recipient_email] => 007gopalvarma123@gmail.com
    [recipient_phone] => 8798706787
    [medical_condition] => I have liver problem
    [urgency_level] => High
    [hospital_name] => ramg hospitals
    [hospital_email] => ramg65244@gmail.com
    [hospital_phone] => 7658756432
    [approval_status] => pending
)

----------------------------------------
2025-02-28 04:36:38 - Formatted results:
Array
(
    [0] => Array
        (
            [recipient_id] => 4
            [recipient_name] => Gopal varma
            [blood_type] => B+
            [organ_required] => liver
            [recipient_email] => 007gopalvarma123@gmail.com
            [recipient_phone] => 8798706787
            [medical_condition] => I have liver problem
            [urgency_level] => High
            [hospital_name] => ramg hospitals
            [hospital_email] => ramg65244@gmail.com
            [hospital_phone] => 7658756432
            [approval_status] => pending
        )

    [1] => Array
        (
            [recipient_id] => 4
            [recipient_name] => Gopal varma
            [blood_type] => B+
            [organ_required] => liver
            [recipient_email] => 007gopalvarma123@gmail.com
            [recipient_phone] => 8798706787
            [medical_condition] => I have liver problem
            [urgency_level] => High
            [hospital_name] => ramg hospitals
            [hospital_email] => ramg65244@gmail.com
            [hospital_phone] => 7658756432
            [approval_status] => pending
        )

    [2] => Array
        (
            [recipient_id] => 13
            [recipient_name] => Rohith Rec
            [blood_type] => A-
            [organ_required] => liver
            [recipient_email] => dummyrr03@gmail.com
            [recipient_phone] => 919150272441
            [medical_condition] => abc
            [urgency_level] => Low
            [hospital_name] => Sandhiya Hospitals
            [hospital_email] => sandhiyassenthil1408@gmail.com
            [hospital_phone] => 9345728466
            [approval_status] => approved
        )

)

----------------------------------------
2025-02-28 04:36:38 - Search request completed
----------------------------------------
2025-02-28 04:36:38 - Search request started
----------------------------------------
2025-02-28 04:36:38 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-02-28 04:36:38 - Hospital ID:
26
----------------------------------------
2025-02-28 04:36:38 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-02-28 04:36:38 - Existing status values in hospital_recipient_approvals:
Array
(
    [0] => rejected
    [1] => approved
    [2] => pending
)

----------------------------------------
2025-02-28 04:36:38 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        WHERE hra.status IN (?,?,?)
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 04:36:38 - Query Parameters:
Array
(
    [0] => rejected
    [1] => approved
    [2] => pending
    [3] => 26
    [4] => %li%
)

----------------------------------------
2025-02-28 04:36:38 - Number of results found:
3
----------------------------------------
2025-02-28 04:36:38 - First result:
Array
(
    [recipient_id] => 4
    [recipient_name] => Gopal varma
    [blood_type] => B+
    [organ_required] => liver
    [recipient_email] => 007gopalvarma123@gmail.com
    [recipient_phone] => 8798706787
    [medical_condition] => I have liver problem
    [urgency_level] => High
    [hospital_name] => ramg hospitals
    [hospital_email] => ramg65244@gmail.com
    [hospital_phone] => 7658756432
    [approval_status] => pending
)

----------------------------------------
2025-02-28 04:36:38 - Formatted results:
Array
(
    [0] => Array
        (
            [recipient_id] => 4
            [recipient_name] => Gopal varma
            [blood_type] => B+
            [organ_required] => liver
            [recipient_email] => 007gopalvarma123@gmail.com
            [recipient_phone] => 8798706787
            [medical_condition] => I have liver problem
            [urgency_level] => High
            [hospital_name] => ramg hospitals
            [hospital_email] => ramg65244@gmail.com
            [hospital_phone] => 7658756432
            [approval_status] => pending
        )

    [1] => Array
        (
            [recipient_id] => 4
            [recipient_name] => Gopal varma
            [blood_type] => B+
            [organ_required] => liver
            [recipient_email] => 007gopalvarma123@gmail.com
            [recipient_phone] => 8798706787
            [medical_condition] => I have liver problem
            [urgency_level] => High
            [hospital_name] => ramg hospitals
            [hospital_email] => ramg65244@gmail.com
            [hospital_phone] => 7658756432
            [approval_status] => pending
        )

    [2] => Array
        (
            [recipient_id] => 13
            [recipient_name] => Rohith Rec
            [blood_type] => A-
            [organ_required] => liver
            [recipient_email] => dummyrr03@gmail.com
            [recipient_phone] => 919150272441
            [medical_condition] => abc
            [urgency_level] => Low
            [hospital_name] => Sandhiya Hospitals
            [hospital_email] => sandhiyassenthil1408@gmail.com
            [hospital_phone] => 9345728466
            [approval_status] => approved
        )

)

----------------------------------------
2025-02-28 04:36:38 - Search request completed
----------------------------------------
2025-02-28 05:57:26 - Search request started
----------------------------------------
2025-02-28 05:57:26 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-02-28 05:57:26 - Hospital ID:
26
----------------------------------------
2025-02-28 05:57:26 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-02-28 05:57:26 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 05:57:26 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-02-28 05:57:26 - Number of results found:
1
----------------------------------------
2025-02-28 06:01:42 - Search request started
----------------------------------------
2025-02-28 06:01:42 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-02-28 06:01:42 - Hospital ID:
26
----------------------------------------
2025-02-28 06:01:42 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-02-28 06:01:42 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:01:42 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-02-28 06:01:42 - Number of results found:
1
----------------------------------------
2025-02-28 06:01:42 - Search request started
----------------------------------------
2025-02-28 06:01:42 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-02-28 06:01:42 - Hospital ID:
26
----------------------------------------
2025-02-28 06:01:42 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-02-28 06:01:42 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:01:42 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %li%
)

----------------------------------------
2025-02-28 06:01:42 - Number of results found:
1
----------------------------------------
2025-02-28 06:01:47 - Search request started
----------------------------------------
2025-02-28 06:01:47 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-02-28 06:01:47 - Hospital ID:
26
----------------------------------------
2025-02-28 06:01:47 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-02-28 06:01:47 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:01:47 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-02-28 06:01:47 - Number of results found:
1
----------------------------------------
2025-02-28 06:01:48 - Search request started
----------------------------------------
2025-02-28 06:01:48 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-02-28 06:01:48 - Hospital ID:
26
----------------------------------------
2025-02-28 06:01:48 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-02-28 06:01:48 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:01:48 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-02-28 06:01:48 - Number of results found:
1
----------------------------------------
2025-02-28 06:01:48 - Search request started
----------------------------------------
2025-02-28 06:01:48 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-02-28 06:01:48 - Hospital ID:
26
----------------------------------------
2025-02-28 06:01:48 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-02-28 06:01:48 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:01:48 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %li%
)

----------------------------------------
2025-02-28 06:01:48 - Number of results found:
1
----------------------------------------
2025-02-28 06:01:49 - Search request started
----------------------------------------
2025-02-28 06:01:49 - POST data received:
Array
(
    [organType] => liv
)

----------------------------------------
2025-02-28 06:01:49 - Hospital ID:
26
----------------------------------------
2025-02-28 06:01:49 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => liv
)

----------------------------------------
2025-02-28 06:01:49 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:01:49 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %liv%
)

----------------------------------------
2025-02-28 06:01:49 - Number of results found:
1
----------------------------------------
2025-02-28 06:01:49 - Search request started
----------------------------------------
2025-02-28 06:01:49 - POST data received:
Array
(
    [organType] => live
)

----------------------------------------
2025-02-28 06:01:49 - Hospital ID:
26
----------------------------------------
2025-02-28 06:01:49 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => live
)

----------------------------------------
2025-02-28 06:01:49 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:01:49 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %live%
)

----------------------------------------
2025-02-28 06:01:49 - Number of results found:
1
----------------------------------------
2025-02-28 06:01:49 - Search request started
----------------------------------------
2025-02-28 06:01:49 - POST data received:
Array
(
    [organType] => liver
)

----------------------------------------
2025-02-28 06:01:49 - Hospital ID:
26
----------------------------------------
2025-02-28 06:01:49 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => liver
)

----------------------------------------
2025-02-28 06:01:49 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:01:49 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %liver%
)

----------------------------------------
2025-02-28 06:01:49 - Number of results found:
1
----------------------------------------
2025-02-28 06:01:50 - Search request started
----------------------------------------
2025-02-28 06:01:50 - POST data received:
Array
(
    [organType] => live
)

----------------------------------------
2025-02-28 06:01:50 - Hospital ID:
26
----------------------------------------
2025-02-28 06:01:50 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => live
)

----------------------------------------
2025-02-28 06:01:50 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:01:50 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %live%
)

----------------------------------------
2025-02-28 06:01:50 - Number of results found:
1
----------------------------------------
2025-02-28 06:01:50 - Search request started
----------------------------------------
2025-02-28 06:01:50 - POST data received:
Array
(
    [organType] => liv
)

----------------------------------------
2025-02-28 06:01:50 - Hospital ID:
26
----------------------------------------
2025-02-28 06:01:50 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => liv
)

----------------------------------------
2025-02-28 06:01:50 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:01:50 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %liv%
)

----------------------------------------
2025-02-28 06:01:50 - Number of results found:
1
----------------------------------------
2025-02-28 06:01:51 - Search request started
----------------------------------------
2025-02-28 06:01:51 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-02-28 06:01:51 - Hospital ID:
26
----------------------------------------
2025-02-28 06:01:51 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-02-28 06:01:51 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:01:51 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %li%
)

----------------------------------------
2025-02-28 06:01:51 - Number of results found:
1
----------------------------------------
2025-02-28 06:01:51 - Search request started
----------------------------------------
2025-02-28 06:01:51 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-02-28 06:01:51 - Hospital ID:
26
----------------------------------------
2025-02-28 06:01:51 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-02-28 06:01:51 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:01:51 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-02-28 06:01:51 - Number of results found:
1
----------------------------------------
2025-02-28 06:05:03 - Search request started
----------------------------------------
2025-02-28 06:05:03 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-02-28 06:05:03 - Hospital ID:
26
----------------------------------------
2025-02-28 06:05:03 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-02-28 06:05:03 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:05:03 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-02-28 06:05:03 - Number of results found:
1
----------------------------------------
2025-02-28 06:05:25 - Search request started
----------------------------------------
2025-02-28 06:05:25 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-02-28 06:05:25 - Hospital ID:
26
----------------------------------------
2025-02-28 06:05:25 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-02-28 06:05:25 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:05:25 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-02-28 06:05:25 - Number of results found:
1
----------------------------------------
2025-02-28 06:05:25 - Search request started
----------------------------------------
2025-02-28 06:05:25 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-02-28 06:05:25 - Hospital ID:
26
----------------------------------------
2025-02-28 06:05:25 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-02-28 06:05:25 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:05:25 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %li%
)

----------------------------------------
2025-02-28 06:05:25 - Number of results found:
1
----------------------------------------
2025-02-28 06:05:26 - Search request started
----------------------------------------
2025-02-28 06:05:26 - POST data received:
Array
(
    [organType] => liv
)

----------------------------------------
2025-02-28 06:05:26 - Hospital ID:
26
----------------------------------------
2025-02-28 06:05:26 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => liv
)

----------------------------------------
2025-02-28 06:05:26 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:05:26 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %liv%
)

----------------------------------------
2025-02-28 06:05:26 - Number of results found:
1
----------------------------------------
2025-02-28 06:05:26 - Search request started
----------------------------------------
2025-02-28 06:05:26 - POST data received:
Array
(
    [organType] => live
)

----------------------------------------
2025-02-28 06:05:26 - Hospital ID:
26
----------------------------------------
2025-02-28 06:05:26 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => live
)

----------------------------------------
2025-02-28 06:05:26 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:05:26 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %live%
)

----------------------------------------
2025-02-28 06:05:26 - Number of results found:
1
----------------------------------------
2025-02-28 06:05:26 - Search request started
----------------------------------------
2025-02-28 06:05:26 - POST data received:
Array
(
    [organType] => liver
)

----------------------------------------
2025-02-28 06:05:26 - Hospital ID:
26
----------------------------------------
2025-02-28 06:05:26 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => liver
)

----------------------------------------
2025-02-28 06:05:26 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:05:26 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %liver%
)

----------------------------------------
2025-02-28 06:05:26 - Number of results found:
1
----------------------------------------
2025-02-28 06:07:41 - Search request started
----------------------------------------
2025-02-28 06:07:41 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-02-28 06:07:41 - Hospital ID:
26
----------------------------------------
2025-02-28 06:07:41 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-02-28 06:07:41 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:07:41 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-02-28 06:07:41 - Number of results found:
1
----------------------------------------
2025-02-28 06:07:58 - Search request started
----------------------------------------
2025-02-28 06:07:58 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-02-28 06:07:58 - Hospital ID:
26
----------------------------------------
2025-02-28 06:07:58 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-02-28 06:07:58 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:07:58 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-02-28 06:07:58 - Number of results found:
1
----------------------------------------
2025-02-28 06:07:58 - Search request started
----------------------------------------
2025-02-28 06:07:58 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-02-28 06:07:58 - Hospital ID:
26
----------------------------------------
2025-02-28 06:07:58 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-02-28 06:07:58 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:07:58 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %li%
)

----------------------------------------
2025-02-28 06:07:58 - Number of results found:
1
----------------------------------------
2025-02-28 06:07:59 - Search request started
----------------------------------------
2025-02-28 06:07:59 - POST data received:
Array
(
    [organType] => liv
)

----------------------------------------
2025-02-28 06:07:59 - Hospital ID:
26
----------------------------------------
2025-02-28 06:07:59 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => liv
)

----------------------------------------
2025-02-28 06:07:59 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:07:59 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %liv%
)

----------------------------------------
2025-02-28 06:07:59 - Number of results found:
1
----------------------------------------
2025-02-28 06:08:02 - Search request started
----------------------------------------
2025-02-28 06:08:02 - POST data received:
Array
(
    [organType] => liv
)

----------------------------------------
2025-02-28 06:08:02 - Hospital ID:
26
----------------------------------------
2025-02-28 06:08:02 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => liv
)

----------------------------------------
2025-02-28 06:08:02 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:08:02 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %liv%
)

----------------------------------------
2025-02-28 06:08:02 - Number of results found:
1
----------------------------------------
2025-02-28 06:14:00 - Search request started
----------------------------------------
2025-02-28 06:14:00 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-02-28 06:14:00 - Hospital ID:
26
----------------------------------------
2025-02-28 06:14:00 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-02-28 06:14:00 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:14:00 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-02-28 06:14:00 - Number of results found:
1
----------------------------------------
2025-02-28 06:14:02 - Search request started
----------------------------------------
2025-02-28 06:14:02 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-02-28 06:14:02 - Hospital ID:
26
----------------------------------------
2025-02-28 06:14:02 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-02-28 06:14:02 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:14:02 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-02-28 06:14:02 - Number of results found:
1
----------------------------------------
2025-02-28 06:14:04 - Search request started
----------------------------------------
2025-02-28 06:14:04 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-02-28 06:14:04 - Hospital ID:
26
----------------------------------------
2025-02-28 06:14:04 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-02-28 06:14:04 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:14:04 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-02-28 06:14:04 - Number of results found:
1
----------------------------------------
2025-02-28 06:17:54 - Search request started
----------------------------------------
2025-02-28 06:17:54 - POST data received:
Array
(
    [organType] => k
)

----------------------------------------
2025-02-28 06:17:54 - Hospital ID:
26
----------------------------------------
2025-02-28 06:17:54 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => k
)

----------------------------------------
2025-02-28 06:17:54 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:17:54 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %k%
)

----------------------------------------
2025-02-28 06:17:54 - Number of results found:
0
----------------------------------------
2025-02-28 06:17:54 - Search request started
----------------------------------------
2025-02-28 06:17:54 - POST data received:
Array
(
    [organType] => ki
)

----------------------------------------
2025-02-28 06:17:54 - Hospital ID:
26
----------------------------------------
2025-02-28 06:17:54 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => ki
)

----------------------------------------
2025-02-28 06:17:54 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:17:54 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %ki%
)

----------------------------------------
2025-02-28 06:17:54 - Number of results found:
0
----------------------------------------
2025-02-28 06:17:55 - Search request started
----------------------------------------
2025-02-28 06:17:55 - POST data received:
Array
(
    [organType] => k
)

----------------------------------------
2025-02-28 06:17:55 - Hospital ID:
26
----------------------------------------
2025-02-28 06:17:55 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => k
)

----------------------------------------
2025-02-28 06:17:55 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:17:55 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %k%
)

----------------------------------------
2025-02-28 06:17:55 - Number of results found:
0
----------------------------------------
2025-02-28 06:17:56 - Search request started
----------------------------------------
2025-02-28 06:17:56 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-02-28 06:17:56 - Hospital ID:
26
----------------------------------------
2025-02-28 06:17:56 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-02-28 06:17:56 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:17:56 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-02-28 06:17:56 - Number of results found:
1
----------------------------------------
2025-02-28 06:17:56 - Search request started
----------------------------------------
2025-02-28 06:17:56 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-02-28 06:17:56 - Hospital ID:
26
----------------------------------------
2025-02-28 06:17:56 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-02-28 06:17:56 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:17:56 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %li%
)

----------------------------------------
2025-02-28 06:17:56 - Number of results found:
1
----------------------------------------
2025-02-28 06:17:58 - Search request started
----------------------------------------
2025-02-28 06:17:58 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-02-28 06:17:58 - Hospital ID:
26
----------------------------------------
2025-02-28 06:17:58 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-02-28 06:17:58 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:17:58 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %li%
)

----------------------------------------
2025-02-28 06:17:58 - Number of results found:
1
----------------------------------------
2025-02-28 06:18:00 - Search request started
----------------------------------------
2025-02-28 06:18:00 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-02-28 06:18:00 - Hospital ID:
26
----------------------------------------
2025-02-28 06:18:00 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-02-28 06:18:00 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:18:00 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %li%
)

----------------------------------------
2025-02-28 06:18:00 - Number of results found:
1
----------------------------------------
2025-02-28 06:24:04 - Search request started
----------------------------------------
2025-02-28 06:24:04 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-02-28 06:24:04 - Hospital ID:
26
----------------------------------------
2025-02-28 06:24:04 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-02-28 06:24:04 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:24:04 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-02-28 06:24:04 - Number of results found:
1
----------------------------------------
2025-02-28 06:24:04 - Search request started
----------------------------------------
2025-02-28 06:24:04 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-02-28 06:24:04 - Hospital ID:
26
----------------------------------------
2025-02-28 06:24:04 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-02-28 06:24:04 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:24:04 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %li%
)

----------------------------------------
2025-02-28 06:24:04 - Number of results found:
1
----------------------------------------
2025-02-28 06:24:06 - Search request started
----------------------------------------
2025-02-28 06:24:06 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-02-28 06:24:06 - Hospital ID:
26
----------------------------------------
2025-02-28 06:24:06 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-02-28 06:24:06 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:24:06 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %li%
)

----------------------------------------
2025-02-28 06:24:06 - Number of results found:
1
----------------------------------------
2025-02-28 06:24:23 - Search request started
----------------------------------------
2025-02-28 06:24:23 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-02-28 06:24:23 - Hospital ID:
26
----------------------------------------
2025-02-28 06:24:23 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-02-28 06:24:23 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 06:24:23 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %li%
)

----------------------------------------
2025-02-28 06:24:23 - Number of results found:
1
----------------------------------------
2025-02-28 09:04:26 - Search request started
----------------------------------------
2025-02-28 09:04:26 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-02-28 09:04:26 - Hospital ID:
26
----------------------------------------
2025-02-28 09:04:26 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-02-28 09:04:26 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 09:04:26 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-02-28 09:04:26 - Number of results found:
1
----------------------------------------
2025-02-28 09:04:28 - Search request started
----------------------------------------
2025-02-28 09:04:28 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-02-28 09:04:28 - Hospital ID:
26
----------------------------------------
2025-02-28 09:04:28 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-02-28 09:04:28 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 09:04:28 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-02-28 09:04:28 - Number of results found:
1
----------------------------------------
2025-02-28 09:04:31 - Search request started
----------------------------------------
2025-02-28 09:04:31 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-02-28 09:04:31 - Hospital ID:
26
----------------------------------------
2025-02-28 09:04:31 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-02-28 09:04:31 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-02-28 09:04:31 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-02-28 09:04:31 - Number of results found:
1
----------------------------------------
2025-03-01 04:27:23 - Search request started
----------------------------------------
2025-03-01 04:27:23 - POST data received:
Array
(
    [organType] => k
)

----------------------------------------
2025-03-01 04:27:23 - Hospital ID:
19
----------------------------------------
2025-03-01 04:27:23 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => k
)

----------------------------------------
2025-03-01 04:27:23 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-01 04:27:23 - Query Parameters:
Array
(
    [0] => 19
    [1] => 19
    [2] => %k%
)

----------------------------------------
2025-03-01 04:27:23 - Number of results found:
1
----------------------------------------
2025-03-01 04:27:23 - Search request started
----------------------------------------
2025-03-01 04:27:23 - POST data received:
Array
(
    [organType] => ki
)

----------------------------------------
2025-03-01 04:27:23 - Hospital ID:
19
----------------------------------------
2025-03-01 04:27:23 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => ki
)

----------------------------------------
2025-03-01 04:27:23 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-01 04:27:23 - Query Parameters:
Array
(
    [0] => 19
    [1] => 19
    [2] => %ki%
)

----------------------------------------
2025-03-01 04:27:23 - Number of results found:
1
----------------------------------------
2025-03-01 04:27:25 - Search request started
----------------------------------------
2025-03-01 04:27:25 - POST data received:
Array
(
    [organType] => k
)

----------------------------------------
2025-03-01 04:27:25 - Hospital ID:
19
----------------------------------------
2025-03-01 04:27:25 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => k
)

----------------------------------------
2025-03-01 04:27:25 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-01 04:27:25 - Query Parameters:
Array
(
    [0] => 19
    [1] => 19
    [2] => %k%
)

----------------------------------------
2025-03-01 04:27:25 - Number of results found:
1
----------------------------------------
2025-03-01 05:21:52 - Search request started
----------------------------------------
2025-03-01 05:21:52 - POST data received:
Array
(
    [organType] => k
)

----------------------------------------
2025-03-01 05:21:52 - Hospital ID:
26
----------------------------------------
2025-03-01 05:21:52 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => k
)

----------------------------------------
2025-03-01 05:21:52 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-01 05:21:52 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %k%
)

----------------------------------------
2025-03-01 05:21:53 - Number of results found:
0
----------------------------------------
2025-03-01 05:21:53 - Search request started
----------------------------------------
2025-03-01 05:21:53 - POST data received:
Array
(
    [organType] => ki
)

----------------------------------------
2025-03-01 05:21:53 - Hospital ID:
26
----------------------------------------
2025-03-01 05:21:53 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => ki
)

----------------------------------------
2025-03-01 05:21:53 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-01 05:21:53 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %ki%
)

----------------------------------------
2025-03-01 05:21:53 - Number of results found:
0
----------------------------------------
2025-03-01 05:21:54 - Search request started
----------------------------------------
2025-03-01 05:21:54 - POST data received:
Array
(
    [organType] => k
)

----------------------------------------
2025-03-01 05:21:54 - Hospital ID:
26
----------------------------------------
2025-03-01 05:21:54 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => k
)

----------------------------------------
2025-03-01 05:21:54 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-01 05:21:54 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %k%
)

----------------------------------------
2025-03-01 05:21:54 - Number of results found:
0
----------------------------------------
2025-03-01 05:21:54 - Search request started
----------------------------------------
2025-03-01 05:21:54 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-01 05:21:54 - Hospital ID:
26
----------------------------------------
2025-03-01 05:21:54 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-01 05:21:54 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-01 05:21:54 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-03-01 05:21:54 - Number of results found:
1
----------------------------------------
2025-03-01 05:21:54 - Search request started
----------------------------------------
2025-03-01 05:21:54 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-03-01 05:21:54 - Hospital ID:
26
----------------------------------------
2025-03-01 05:21:54 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-03-01 05:21:54 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-01 05:21:54 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %li%
)

----------------------------------------
2025-03-01 05:21:54 - Number of results found:
1
----------------------------------------
2025-03-18 05:17:54 - Search request started
----------------------------------------
2025-03-18 05:17:54 - POST data received:
Array
(
    [organType] => k
)

----------------------------------------
2025-03-18 05:17:54 - Hospital ID:
26
----------------------------------------
2025-03-18 05:17:54 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => k
)

----------------------------------------
2025-03-18 05:17:54 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:17:54 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %k%
)

----------------------------------------
2025-03-18 05:17:54 - Number of results found:
0
----------------------------------------
2025-03-18 05:17:54 - Search request started
----------------------------------------
2025-03-18 05:17:54 - POST data received:
Array
(
    [organType] => ki
)

----------------------------------------
2025-03-18 05:17:54 - Hospital ID:
26
----------------------------------------
2025-03-18 05:17:54 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => ki
)

----------------------------------------
2025-03-18 05:17:54 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:17:54 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %ki%
)

----------------------------------------
2025-03-18 05:17:54 - Number of results found:
0
----------------------------------------
2025-03-18 05:17:55 - Search request started
----------------------------------------
2025-03-18 05:17:55 - POST data received:
Array
(
    [organType] => kid
)

----------------------------------------
2025-03-18 05:17:55 - Hospital ID:
26
----------------------------------------
2025-03-18 05:17:55 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => kid
)

----------------------------------------
2025-03-18 05:17:55 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:17:55 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %kid%
)

----------------------------------------
2025-03-18 05:17:55 - Number of results found:
0
----------------------------------------
2025-03-18 05:17:55 - Search request started
----------------------------------------
2025-03-18 05:17:55 - POST data received:
Array
(
    [organType] => ki
)

----------------------------------------
2025-03-18 05:17:55 - Hospital ID:
26
----------------------------------------
2025-03-18 05:17:55 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => ki
)

----------------------------------------
2025-03-18 05:17:55 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:17:55 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %ki%
)

----------------------------------------
2025-03-18 05:17:55 - Number of results found:
0
----------------------------------------
2025-03-18 05:17:55 - Search request started
----------------------------------------
2025-03-18 05:17:55 - POST data received:
Array
(
    [organType] => k
)

----------------------------------------
2025-03-18 05:17:55 - Hospital ID:
26
----------------------------------------
2025-03-18 05:17:55 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => k
)

----------------------------------------
2025-03-18 05:17:55 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:17:55 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %k%
)

----------------------------------------
2025-03-18 05:17:55 - Number of results found:
0
----------------------------------------
2025-03-18 05:17:56 - Search request started
----------------------------------------
2025-03-18 05:17:56 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 05:17:56 - Hospital ID:
26
----------------------------------------
2025-03-18 05:17:56 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 05:17:56 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:17:56 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-03-18 05:17:56 - Number of results found:
1
----------------------------------------
2025-03-18 05:17:57 - Search request started
----------------------------------------
2025-03-18 05:17:57 - POST data received:
Array
(
    [organType] => lu
)

----------------------------------------
2025-03-18 05:17:57 - Hospital ID:
26
----------------------------------------
2025-03-18 05:17:57 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => lu
)

----------------------------------------
2025-03-18 05:17:57 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:17:57 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %lu%
)

----------------------------------------
2025-03-18 05:17:57 - Number of results found:
0
----------------------------------------
2025-03-18 05:17:57 - Search request started
----------------------------------------
2025-03-18 05:17:57 - POST data received:
Array
(
    [organType] => lun
)

----------------------------------------
2025-03-18 05:17:57 - Hospital ID:
26
----------------------------------------
2025-03-18 05:17:57 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => lun
)

----------------------------------------
2025-03-18 05:17:57 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:17:57 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %lun%
)

----------------------------------------
2025-03-18 05:17:57 - Number of results found:
0
----------------------------------------
2025-03-18 05:17:57 - Search request started
----------------------------------------
2025-03-18 05:17:57 - POST data received:
Array
(
    [organType] => lung
)

----------------------------------------
2025-03-18 05:17:57 - Hospital ID:
26
----------------------------------------
2025-03-18 05:17:57 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => lung
)

----------------------------------------
2025-03-18 05:17:57 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:17:57 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %lung%
)

----------------------------------------
2025-03-18 05:17:57 - Number of results found:
0
----------------------------------------
2025-03-18 05:17:57 - Search request started
----------------------------------------
2025-03-18 05:17:57 - POST data received:
Array
(
    [organType] => lungs
)

----------------------------------------
2025-03-18 05:17:57 - Hospital ID:
26
----------------------------------------
2025-03-18 05:17:57 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => lungs
)

----------------------------------------
2025-03-18 05:17:57 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:17:57 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %lungs%
)

----------------------------------------
2025-03-18 05:17:57 - Number of results found:
0
----------------------------------------
2025-03-18 05:17:58 - Search request started
----------------------------------------
2025-03-18 05:17:58 - POST data received:
Array
(
    [organType] => lung
)

----------------------------------------
2025-03-18 05:17:58 - Hospital ID:
26
----------------------------------------
2025-03-18 05:17:58 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => lung
)

----------------------------------------
2025-03-18 05:17:58 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:17:58 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %lung%
)

----------------------------------------
2025-03-18 05:17:58 - Number of results found:
0
----------------------------------------
2025-03-18 05:17:58 - Search request started
----------------------------------------
2025-03-18 05:17:58 - POST data received:
Array
(
    [organType] => lun
)

----------------------------------------
2025-03-18 05:17:58 - Hospital ID:
26
----------------------------------------
2025-03-18 05:17:58 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => lun
)

----------------------------------------
2025-03-18 05:17:58 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:17:58 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %lun%
)

----------------------------------------
2025-03-18 05:17:58 - Number of results found:
0
----------------------------------------
2025-03-18 05:17:58 - Search request started
----------------------------------------
2025-03-18 05:17:58 - POST data received:
Array
(
    [organType] => lu
)

----------------------------------------
2025-03-18 05:17:58 - Hospital ID:
26
----------------------------------------
2025-03-18 05:17:58 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => lu
)

----------------------------------------
2025-03-18 05:17:58 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:17:58 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %lu%
)

----------------------------------------
2025-03-18 05:17:58 - Number of results found:
0
----------------------------------------
2025-03-18 05:17:58 - Search request started
----------------------------------------
2025-03-18 05:17:58 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 05:17:58 - Hospital ID:
26
----------------------------------------
2025-03-18 05:17:58 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 05:17:58 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:17:58 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-03-18 05:17:58 - Number of results found:
1
----------------------------------------
2025-03-18 05:18:00 - Search request started
----------------------------------------
2025-03-18 05:18:00 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 05:18:00 - Hospital ID:
26
----------------------------------------
2025-03-18 05:18:00 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 05:18:00 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:18:00 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-03-18 05:18:00 - Number of results found:
1
----------------------------------------
2025-03-18 05:18:07 - Search request started
----------------------------------------
2025-03-18 05:18:07 - POST data received:
Array
(
    [organType] => lu
)

----------------------------------------
2025-03-18 05:18:07 - Hospital ID:
26
----------------------------------------
2025-03-18 05:18:07 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => lu
)

----------------------------------------
2025-03-18 05:18:07 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:18:07 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %lu%
)

----------------------------------------
2025-03-18 05:18:07 - Number of results found:
0
----------------------------------------
2025-03-18 05:18:08 - Search request started
----------------------------------------
2025-03-18 05:18:08 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 05:18:08 - Hospital ID:
26
----------------------------------------
2025-03-18 05:18:08 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 05:18:08 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:18:08 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-03-18 05:18:08 - Number of results found:
1
----------------------------------------
2025-03-18 05:18:09 - Search request started
----------------------------------------
2025-03-18 05:18:09 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-03-18 05:18:09 - Hospital ID:
26
----------------------------------------
2025-03-18 05:18:09 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-03-18 05:18:09 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:18:09 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %li%
)

----------------------------------------
2025-03-18 05:18:09 - Number of results found:
1
----------------------------------------
2025-03-18 05:18:11 - Search request started
----------------------------------------
2025-03-18 05:18:11 - POST data received:
Array
(
    [organType] => liv
)

----------------------------------------
2025-03-18 05:18:11 - Hospital ID:
26
----------------------------------------
2025-03-18 05:18:11 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => liv
)

----------------------------------------
2025-03-18 05:18:11 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:18:11 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %liv%
)

----------------------------------------
2025-03-18 05:18:11 - Number of results found:
1
----------------------------------------
2025-03-18 05:18:11 - Search request started
----------------------------------------
2025-03-18 05:18:11 - POST data received:
Array
(
    [organType] => live
)

----------------------------------------
2025-03-18 05:18:11 - Hospital ID:
26
----------------------------------------
2025-03-18 05:18:11 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => live
)

----------------------------------------
2025-03-18 05:18:11 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:18:11 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %live%
)

----------------------------------------
2025-03-18 05:18:11 - Number of results found:
1
----------------------------------------
2025-03-18 05:18:11 - Search request started
----------------------------------------
2025-03-18 05:18:11 - POST data received:
Array
(
    [organType] => liver
)

----------------------------------------
2025-03-18 05:18:11 - Hospital ID:
26
----------------------------------------
2025-03-18 05:18:11 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => liver
)

----------------------------------------
2025-03-18 05:18:11 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:18:11 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %liver%
)

----------------------------------------
2025-03-18 05:18:11 - Number of results found:
1
----------------------------------------
2025-03-18 05:35:31 - Search request started
----------------------------------------
2025-03-18 05:35:31 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 05:35:31 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:31 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 05:35:31 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:31 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-03-18 05:35:32 - Number of results found:
1
----------------------------------------
2025-03-18 05:35:32 - Search request started
----------------------------------------
2025-03-18 05:35:32 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-03-18 05:35:32 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:32 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-03-18 05:35:32 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:32 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %li%
)

----------------------------------------
2025-03-18 05:35:32 - Number of results found:
1
----------------------------------------
2025-03-18 05:35:32 - Search request started
----------------------------------------
2025-03-18 05:35:32 - POST data received:
Array
(
    [organType] => liv
)

----------------------------------------
2025-03-18 05:35:32 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:32 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => liv
)

----------------------------------------
2025-03-18 05:35:32 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:32 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %liv%
)

----------------------------------------
2025-03-18 05:35:32 - Number of results found:
1
----------------------------------------
2025-03-18 05:35:32 - Search request started
----------------------------------------
2025-03-18 05:35:32 - POST data received:
Array
(
    [organType] => live
)

----------------------------------------
2025-03-18 05:35:32 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:32 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => live
)

----------------------------------------
2025-03-18 05:35:32 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:32 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %live%
)

----------------------------------------
2025-03-18 05:35:32 - Number of results found:
1
----------------------------------------
2025-03-18 05:35:32 - Search request started
----------------------------------------
2025-03-18 05:35:32 - POST data received:
Array
(
    [organType] => liver
)

----------------------------------------
2025-03-18 05:35:32 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:32 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => liver
)

----------------------------------------
2025-03-18 05:35:32 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:32 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %liver%
)

----------------------------------------
2025-03-18 05:35:32 - Number of results found:
1
----------------------------------------
2025-03-18 05:35:33 - Search request started
----------------------------------------
2025-03-18 05:35:33 - POST data received:
Array
(
    [organType] => live
)

----------------------------------------
2025-03-18 05:35:33 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:33 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => live
)

----------------------------------------
2025-03-18 05:35:33 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:33 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %live%
)

----------------------------------------
2025-03-18 05:35:33 - Number of results found:
1
----------------------------------------
2025-03-18 05:35:34 - Search request started
----------------------------------------
2025-03-18 05:35:34 - POST data received:
Array
(
    [organType] => liv
)

----------------------------------------
2025-03-18 05:35:34 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:34 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => liv
)

----------------------------------------
2025-03-18 05:35:34 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:34 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %liv%
)

----------------------------------------
2025-03-18 05:35:34 - Number of results found:
1
----------------------------------------
2025-03-18 05:35:34 - Search request started
----------------------------------------
2025-03-18 05:35:34 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-03-18 05:35:34 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:34 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-03-18 05:35:34 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:34 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %li%
)

----------------------------------------
2025-03-18 05:35:34 - Number of results found:
1
----------------------------------------
2025-03-18 05:35:34 - Search request started
----------------------------------------
2025-03-18 05:35:34 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 05:35:34 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:34 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 05:35:34 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:34 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-03-18 05:35:34 - Number of results found:
1
----------------------------------------
2025-03-18 05:35:43 - Search request started
----------------------------------------
2025-03-18 05:35:43 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 05:35:43 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:43 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 05:35:43 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:43 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-03-18 05:35:43 - Number of results found:
1
----------------------------------------
2025-03-18 05:35:43 - Search request started
----------------------------------------
2025-03-18 05:35:43 - POST data received:
Array
(
    [organType] => lu
)

----------------------------------------
2025-03-18 05:35:43 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:43 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => lu
)

----------------------------------------
2025-03-18 05:35:43 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:43 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %lu%
)

----------------------------------------
2025-03-18 05:35:43 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:43 - Search request started
----------------------------------------
2025-03-18 05:35:43 - POST data received:
Array
(
    [organType] => lun
)

----------------------------------------
2025-03-18 05:35:43 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:43 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => lun
)

----------------------------------------
2025-03-18 05:35:43 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:43 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %lun%
)

----------------------------------------
2025-03-18 05:35:43 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:44 - Search request started
----------------------------------------
2025-03-18 05:35:44 - POST data received:
Array
(
    [organType] => lu
)

----------------------------------------
2025-03-18 05:35:44 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:44 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => lu
)

----------------------------------------
2025-03-18 05:35:44 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:44 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %lu%
)

----------------------------------------
2025-03-18 05:35:44 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:44 - Search request started
----------------------------------------
2025-03-18 05:35:44 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 05:35:44 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:44 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 05:35:44 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:44 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-03-18 05:35:44 - Number of results found:
1
----------------------------------------
2025-03-18 05:35:45 - Search request started
----------------------------------------
2025-03-18 05:35:45 - POST data received:
Array
(
    [organType] => h
)

----------------------------------------
2025-03-18 05:35:45 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:45 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => h
)

----------------------------------------
2025-03-18 05:35:45 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:45 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %h%
)

----------------------------------------
2025-03-18 05:35:46 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:46 - Search request started
----------------------------------------
2025-03-18 05:35:46 - POST data received:
Array
(
    [organType] => he
)

----------------------------------------
2025-03-18 05:35:46 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:46 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => he
)

----------------------------------------
2025-03-18 05:35:46 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:46 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %he%
)

----------------------------------------
2025-03-18 05:35:46 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:46 - Search request started
----------------------------------------
2025-03-18 05:35:46 - POST data received:
Array
(
    [organType] => hea
)

----------------------------------------
2025-03-18 05:35:46 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:46 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => hea
)

----------------------------------------
2025-03-18 05:35:46 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:46 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %hea%
)

----------------------------------------
2025-03-18 05:35:46 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:46 - Search request started
----------------------------------------
2025-03-18 05:35:46 - POST data received:
Array
(
    [organType] => hear
)

----------------------------------------
2025-03-18 05:35:46 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:46 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => hear
)

----------------------------------------
2025-03-18 05:35:46 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:46 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %hear%
)

----------------------------------------
2025-03-18 05:35:46 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:46 - Search request started
----------------------------------------
2025-03-18 05:35:46 - POST data received:
Array
(
    [organType] => heart
)

----------------------------------------
2025-03-18 05:35:46 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:46 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => heart
)

----------------------------------------
2025-03-18 05:35:46 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:46 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %heart%
)

----------------------------------------
2025-03-18 05:35:46 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:47 - Search request started
----------------------------------------
2025-03-18 05:35:47 - POST data received:
Array
(
    [organType] => hear
)

----------------------------------------
2025-03-18 05:35:47 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:47 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => hear
)

----------------------------------------
2025-03-18 05:35:47 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:47 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %hear%
)

----------------------------------------
2025-03-18 05:35:47 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:47 - Search request started
----------------------------------------
2025-03-18 05:35:47 - POST data received:
Array
(
    [organType] => hea
)

----------------------------------------
2025-03-18 05:35:47 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:47 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => hea
)

----------------------------------------
2025-03-18 05:35:47 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:47 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %hea%
)

----------------------------------------
2025-03-18 05:35:47 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:47 - Search request started
----------------------------------------
2025-03-18 05:35:47 - POST data received:
Array
(
    [organType] => he
)

----------------------------------------
2025-03-18 05:35:47 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:47 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => he
)

----------------------------------------
2025-03-18 05:35:47 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:47 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %he%
)

----------------------------------------
2025-03-18 05:35:47 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:47 - Search request started
----------------------------------------
2025-03-18 05:35:47 - POST data received:
Array
(
    [organType] => h
)

----------------------------------------
2025-03-18 05:35:47 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:47 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => h
)

----------------------------------------
2025-03-18 05:35:47 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:47 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %h%
)

----------------------------------------
2025-03-18 05:35:47 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:49 - Search request started
----------------------------------------
2025-03-18 05:35:49 - POST data received:
Array
(
    [organType] => p
)

----------------------------------------
2025-03-18 05:35:49 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:49 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => p
)

----------------------------------------
2025-03-18 05:35:49 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:49 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %p%
)

----------------------------------------
2025-03-18 05:35:49 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:49 - Search request started
----------------------------------------
2025-03-18 05:35:49 - POST data received:
Array
(
    [organType] => pa
)

----------------------------------------
2025-03-18 05:35:49 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:49 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => pa
)

----------------------------------------
2025-03-18 05:35:49 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:49 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %pa%
)

----------------------------------------
2025-03-18 05:35:49 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:49 - Search request started
----------------------------------------
2025-03-18 05:35:49 - POST data received:
Array
(
    [organType] => pan
)

----------------------------------------
2025-03-18 05:35:49 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:49 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => pan
)

----------------------------------------
2025-03-18 05:35:49 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:49 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %pan%
)

----------------------------------------
2025-03-18 05:35:49 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:50 - Search request started
----------------------------------------
2025-03-18 05:35:50 - POST data received:
Array
(
    [organType] => panc
)

----------------------------------------
2025-03-18 05:35:50 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:50 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => panc
)

----------------------------------------
2025-03-18 05:35:50 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:50 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %panc%
)

----------------------------------------
2025-03-18 05:35:50 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:50 - Search request started
----------------------------------------
2025-03-18 05:35:50 - POST data received:
Array
(
    [organType] => pancr
)

----------------------------------------
2025-03-18 05:35:50 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:50 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => pancr
)

----------------------------------------
2025-03-18 05:35:50 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:50 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %pancr%
)

----------------------------------------
2025-03-18 05:35:50 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:50 - Search request started
----------------------------------------
2025-03-18 05:35:50 - POST data received:
Array
(
    [organType] => pancre
)

----------------------------------------
2025-03-18 05:35:50 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:50 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => pancre
)

----------------------------------------
2025-03-18 05:35:50 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:50 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %pancre%
)

----------------------------------------
2025-03-18 05:35:50 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:50 - Search request started
----------------------------------------
2025-03-18 05:35:50 - POST data received:
Array
(
    [organType] => pancrea
)

----------------------------------------
2025-03-18 05:35:50 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:50 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => pancrea
)

----------------------------------------
2025-03-18 05:35:50 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:50 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %pancrea%
)

----------------------------------------
2025-03-18 05:35:51 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:51 - Search request started
----------------------------------------
2025-03-18 05:35:51 - POST data received:
Array
(
    [organType] => pancreas
)

----------------------------------------
2025-03-18 05:35:51 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:51 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => pancreas
)

----------------------------------------
2025-03-18 05:35:51 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:51 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %pancreas%
)

----------------------------------------
2025-03-18 05:35:51 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:52 - Search request started
----------------------------------------
2025-03-18 05:35:52 - POST data received:
Array
(
    [organType] => pancrea
)

----------------------------------------
2025-03-18 05:35:52 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:52 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => pancrea
)

----------------------------------------
2025-03-18 05:35:52 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:52 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %pancrea%
)

----------------------------------------
2025-03-18 05:35:52 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:53 - Search request started
----------------------------------------
2025-03-18 05:35:53 - POST data received:
Array
(
    [organType] => pancre
)

----------------------------------------
2025-03-18 05:35:53 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:53 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => pancre
)

----------------------------------------
2025-03-18 05:35:53 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:53 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %pancre%
)

----------------------------------------
2025-03-18 05:35:53 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:53 - Search request started
----------------------------------------
2025-03-18 05:35:53 - POST data received:
Array
(
    [organType] => pancr
)

----------------------------------------
2025-03-18 05:35:53 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:53 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => pancr
)

----------------------------------------
2025-03-18 05:35:53 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:53 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %pancr%
)

----------------------------------------
2025-03-18 05:35:53 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:53 - Search request started
----------------------------------------
2025-03-18 05:35:53 - POST data received:
Array
(
    [organType] => panc
)

----------------------------------------
2025-03-18 05:35:53 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:53 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => panc
)

----------------------------------------
2025-03-18 05:35:53 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:53 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %panc%
)

----------------------------------------
2025-03-18 05:35:53 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:53 - Search request started
----------------------------------------
2025-03-18 05:35:53 - POST data received:
Array
(
    [organType] => pan
)

----------------------------------------
2025-03-18 05:35:53 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:53 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => pan
)

----------------------------------------
2025-03-18 05:35:53 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:53 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %pan%
)

----------------------------------------
2025-03-18 05:35:53 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:53 - Search request started
----------------------------------------
2025-03-18 05:35:53 - POST data received:
Array
(
    [organType] => pa
)

----------------------------------------
2025-03-18 05:35:53 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:53 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => pa
)

----------------------------------------
2025-03-18 05:35:53 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:53 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %pa%
)

----------------------------------------
2025-03-18 05:35:53 - Number of results found:
0
----------------------------------------
2025-03-18 05:35:53 - Search request started
----------------------------------------
2025-03-18 05:35:53 - POST data received:
Array
(
    [organType] => p
)

----------------------------------------
2025-03-18 05:35:53 - Hospital ID:
26
----------------------------------------
2025-03-18 05:35:53 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => p
)

----------------------------------------
2025-03-18 05:35:53 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:35:53 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %p%
)

----------------------------------------
2025-03-18 05:35:53 - Number of results found:
0
----------------------------------------
2025-03-18 05:49:53 - Search request started
----------------------------------------
2025-03-18 05:49:53 - POST data received:
Array
(
    [organType] => k
)

----------------------------------------
2025-03-18 05:49:53 - Hospital ID:
26
----------------------------------------
2025-03-18 05:49:53 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => k
)

----------------------------------------
2025-03-18 05:49:53 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:49:53 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %k%
)

----------------------------------------
2025-03-18 05:49:53 - Number of results found:
0
----------------------------------------
2025-03-18 05:49:56 - Search request started
----------------------------------------
2025-03-18 05:49:56 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 05:49:56 - Hospital ID:
26
----------------------------------------
2025-03-18 05:49:56 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 05:49:56 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:49:56 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-03-18 05:49:56 - Number of results found:
1
----------------------------------------
2025-03-18 05:50:18 - Search request started
----------------------------------------
2025-03-18 05:50:18 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 05:50:18 - Hospital ID:
26
----------------------------------------
2025-03-18 05:50:18 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 05:50:18 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:50:18 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-03-18 05:50:18 - Number of results found:
1
----------------------------------------
2025-03-18 05:51:32 - Search request started
----------------------------------------
2025-03-18 05:51:32 - POST data received:
Array
(
    [bloodType] => A
)

----------------------------------------
2025-03-18 05:51:32 - Hospital ID:
26
----------------------------------------
2025-03-18 05:51:32 - Search parameters:
Array
(
    [bloodType] => A
    [organType] => 
)

----------------------------------------
2025-03-18 05:51:32 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.blood_type) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:51:32 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %a%
)

----------------------------------------
2025-03-18 05:51:32 - Number of results found:
1
----------------------------------------
2025-03-18 05:51:34 - Search request started
----------------------------------------
2025-03-18 05:51:34 - POST data received:
Array
(
    [bloodType] => B
)

----------------------------------------
2025-03-18 05:51:34 - Hospital ID:
26
----------------------------------------
2025-03-18 05:51:34 - Search parameters:
Array
(
    [bloodType] => B
    [organType] => 
)

----------------------------------------
2025-03-18 05:51:34 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.blood_type) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:51:34 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %b%
)

----------------------------------------
2025-03-18 05:51:34 - Number of results found:
0
----------------------------------------
2025-03-18 05:51:36 - Search request started
----------------------------------------
2025-03-18 05:51:36 - POST data received:
Array
(
    [bloodType] => A
)

----------------------------------------
2025-03-18 05:51:36 - Hospital ID:
26
----------------------------------------
2025-03-18 05:51:36 - Search parameters:
Array
(
    [bloodType] => A
    [organType] => 
)

----------------------------------------
2025-03-18 05:51:36 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.blood_type) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:51:36 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %a%
)

----------------------------------------
2025-03-18 05:51:36 - Number of results found:
1
----------------------------------------
2025-03-18 05:51:36 - Search request started
----------------------------------------
2025-03-18 05:51:36 - POST data received:
Array
(
    [bloodType] => AB
)

----------------------------------------
2025-03-18 05:51:36 - Hospital ID:
26
----------------------------------------
2025-03-18 05:51:36 - Search parameters:
Array
(
    [bloodType] => AB
    [organType] => 
)

----------------------------------------
2025-03-18 05:51:36 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.blood_type) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:51:36 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %ab%
)

----------------------------------------
2025-03-18 05:51:36 - Number of results found:
0
----------------------------------------
2025-03-18 05:51:37 - Search request started
----------------------------------------
2025-03-18 05:51:37 - POST data received:
Array
(
    [bloodType] => A
)

----------------------------------------
2025-03-18 05:51:37 - Hospital ID:
26
----------------------------------------
2025-03-18 05:51:37 - Search parameters:
Array
(
    [bloodType] => A
    [organType] => 
)

----------------------------------------
2025-03-18 05:51:37 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.blood_type) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:51:37 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %a%
)

----------------------------------------
2025-03-18 05:51:37 - Number of results found:
1
----------------------------------------
2025-03-18 05:51:40 - Search request started
----------------------------------------
2025-03-18 05:51:40 - POST data received:
Array
(
    [bloodType] => O
)

----------------------------------------
2025-03-18 05:51:40 - Hospital ID:
26
----------------------------------------
2025-03-18 05:51:40 - Search parameters:
Array
(
    [bloodType] => O
    [organType] => 
)

----------------------------------------
2025-03-18 05:51:40 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.blood_type) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 05:51:40 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %o%
)

----------------------------------------
2025-03-18 05:51:40 - Number of results found:
0
----------------------------------------
2025-03-18 06:40:46 - Search request started
----------------------------------------
2025-03-18 06:40:46 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 06:40:46 - Hospital ID:
26
----------------------------------------
2025-03-18 06:40:46 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 06:40:46 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:40:46 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-03-18 06:40:46 - Number of results found:
1
----------------------------------------
2025-03-18 06:40:53 - Search request started
----------------------------------------
2025-03-18 06:40:53 - POST data received:
Array
(
    [organType] => k
)

----------------------------------------
2025-03-18 06:40:53 - Hospital ID:
26
----------------------------------------
2025-03-18 06:40:53 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => k
)

----------------------------------------
2025-03-18 06:40:53 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:40:53 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %k%
)

----------------------------------------
2025-03-18 06:40:53 - Number of results found:
0
----------------------------------------
2025-03-18 06:40:55 - Search request started
----------------------------------------
2025-03-18 06:40:55 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 06:40:55 - Hospital ID:
26
----------------------------------------
2025-03-18 06:40:55 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 06:40:55 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:40:55 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-03-18 06:40:55 - Number of results found:
1
----------------------------------------
2025-03-18 06:40:55 - Search request started
----------------------------------------
2025-03-18 06:40:55 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-03-18 06:40:55 - Hospital ID:
26
----------------------------------------
2025-03-18 06:40:55 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-03-18 06:40:55 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:40:55 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %li%
)

----------------------------------------
2025-03-18 06:40:55 - Number of results found:
1
----------------------------------------
2025-03-18 06:40:57 - Search request started
----------------------------------------
2025-03-18 06:40:57 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 06:40:57 - Hospital ID:
26
----------------------------------------
2025-03-18 06:40:57 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 06:40:57 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:40:57 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
)

----------------------------------------
2025-03-18 06:40:57 - Number of results found:
1
----------------------------------------
2025-03-18 06:40:57 - Search request started
----------------------------------------
2025-03-18 06:40:57 - POST data received:
Array
(
    [organType] => p
)

----------------------------------------
2025-03-18 06:40:57 - Hospital ID:
26
----------------------------------------
2025-03-18 06:40:57 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => p
)

----------------------------------------
2025-03-18 06:40:57 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:40:57 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %p%
)

----------------------------------------
2025-03-18 06:40:57 - Number of results found:
0
----------------------------------------
2025-03-18 06:40:58 - Search request started
----------------------------------------
2025-03-18 06:40:58 - POST data received:
Array
(
    [organType] => pa
)

----------------------------------------
2025-03-18 06:40:58 - Hospital ID:
26
----------------------------------------
2025-03-18 06:40:58 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => pa
)

----------------------------------------
2025-03-18 06:40:58 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:40:58 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %pa%
)

----------------------------------------
2025-03-18 06:40:58 - Number of results found:
0
----------------------------------------
2025-03-18 06:40:58 - Search request started
----------------------------------------
2025-03-18 06:40:58 - POST data received:
Array
(
    [organType] => pan
)

----------------------------------------
2025-03-18 06:40:58 - Hospital ID:
26
----------------------------------------
2025-03-18 06:40:58 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => pan
)

----------------------------------------
2025-03-18 06:40:58 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:40:58 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %pan%
)

----------------------------------------
2025-03-18 06:40:58 - Number of results found:
0
----------------------------------------
2025-03-18 06:40:59 - Search request started
----------------------------------------
2025-03-18 06:40:59 - POST data received:
Array
(
    [organType] => pa
)

----------------------------------------
2025-03-18 06:40:59 - Hospital ID:
26
----------------------------------------
2025-03-18 06:40:59 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => pa
)

----------------------------------------
2025-03-18 06:40:59 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:40:59 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %pa%
)

----------------------------------------
2025-03-18 06:40:59 - Number of results found:
0
----------------------------------------
2025-03-18 06:40:59 - Search request started
----------------------------------------
2025-03-18 06:40:59 - POST data received:
Array
(
    [organType] => p
)

----------------------------------------
2025-03-18 06:40:59 - Hospital ID:
26
----------------------------------------
2025-03-18 06:40:59 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => p
)

----------------------------------------
2025-03-18 06:40:59 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:40:59 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %p%
)

----------------------------------------
2025-03-18 06:40:59 - Number of results found:
0
----------------------------------------
2025-03-18 06:41:01 - Search request started
----------------------------------------
2025-03-18 06:41:01 - POST data received:
Array
(
    [organType] => h
)

----------------------------------------
2025-03-18 06:41:01 - Hospital ID:
26
----------------------------------------
2025-03-18 06:41:01 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => h
)

----------------------------------------
2025-03-18 06:41:01 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:41:01 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %h%
)

----------------------------------------
2025-03-18 06:41:01 - Number of results found:
0
----------------------------------------
2025-03-18 06:41:01 - Search request started
----------------------------------------
2025-03-18 06:41:01 - POST data received:
Array
(
    [organType] => he
)

----------------------------------------
2025-03-18 06:41:01 - Hospital ID:
26
----------------------------------------
2025-03-18 06:41:01 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => he
)

----------------------------------------
2025-03-18 06:41:01 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:41:01 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %he%
)

----------------------------------------
2025-03-18 06:41:01 - Number of results found:
0
----------------------------------------
2025-03-18 06:41:01 - Search request started
----------------------------------------
2025-03-18 06:41:01 - POST data received:
Array
(
    [organType] => hea
)

----------------------------------------
2025-03-18 06:41:01 - Hospital ID:
26
----------------------------------------
2025-03-18 06:41:01 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => hea
)

----------------------------------------
2025-03-18 06:41:01 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:41:01 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %hea%
)

----------------------------------------
2025-03-18 06:41:01 - Number of results found:
0
----------------------------------------
2025-03-18 06:41:02 - Search request started
----------------------------------------
2025-03-18 06:41:02 - POST data received:
Array
(
    [organType] => hear
)

----------------------------------------
2025-03-18 06:41:02 - Hospital ID:
26
----------------------------------------
2025-03-18 06:41:02 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => hear
)

----------------------------------------
2025-03-18 06:41:02 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:41:02 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %hear%
)

----------------------------------------
2025-03-18 06:41:02 - Number of results found:
0
----------------------------------------
2025-03-18 06:41:02 - Search request started
----------------------------------------
2025-03-18 06:41:02 - POST data received:
Array
(
    [organType] => heart
)

----------------------------------------
2025-03-18 06:41:02 - Hospital ID:
26
----------------------------------------
2025-03-18 06:41:02 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => heart
)

----------------------------------------
2025-03-18 06:41:02 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:41:02 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %heart%
)

----------------------------------------
2025-03-18 06:41:02 - Number of results found:
0
----------------------------------------
2025-03-18 06:41:03 - Search request started
----------------------------------------
2025-03-18 06:41:03 - POST data received:
Array
(
    [organType] => hear
)

----------------------------------------
2025-03-18 06:41:03 - Hospital ID:
26
----------------------------------------
2025-03-18 06:41:03 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => hear
)

----------------------------------------
2025-03-18 06:41:03 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:41:03 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %hear%
)

----------------------------------------
2025-03-18 06:41:03 - Number of results found:
0
----------------------------------------
2025-03-18 06:41:03 - Search request started
----------------------------------------
2025-03-18 06:41:03 - POST data received:
Array
(
    [organType] => hea
)

----------------------------------------
2025-03-18 06:41:03 - Hospital ID:
26
----------------------------------------
2025-03-18 06:41:03 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => hea
)

----------------------------------------
2025-03-18 06:41:03 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:41:03 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %hea%
)

----------------------------------------
2025-03-18 06:41:03 - Number of results found:
0
----------------------------------------
2025-03-18 06:41:03 - Search request started
----------------------------------------
2025-03-18 06:41:03 - POST data received:
Array
(
    [organType] => he
)

----------------------------------------
2025-03-18 06:41:03 - Hospital ID:
26
----------------------------------------
2025-03-18 06:41:03 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => he
)

----------------------------------------
2025-03-18 06:41:03 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:41:03 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %he%
)

----------------------------------------
2025-03-18 06:41:03 - Number of results found:
0
----------------------------------------
2025-03-18 06:41:03 - Search request started
----------------------------------------
2025-03-18 06:41:03 - POST data received:
Array
(
    [organType] => h
)

----------------------------------------
2025-03-18 06:41:03 - Hospital ID:
26
----------------------------------------
2025-03-18 06:41:03 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => h
)

----------------------------------------
2025-03-18 06:41:03 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:41:03 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %h%
)

----------------------------------------
2025-03-18 06:41:03 - Number of results found:
0
----------------------------------------
2025-03-18 06:41:04 - Search request started
----------------------------------------
2025-03-18 06:41:04 - POST data received:
Array
(
    [organType] => c
)

----------------------------------------
2025-03-18 06:41:04 - Hospital ID:
26
----------------------------------------
2025-03-18 06:41:04 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => c
)

----------------------------------------
2025-03-18 06:41:04 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:41:04 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %c%
)

----------------------------------------
2025-03-18 06:41:04 - Number of results found:
0
----------------------------------------
2025-03-18 06:41:04 - Search request started
----------------------------------------
2025-03-18 06:41:04 - POST data received:
Array
(
    [organType] => co
)

----------------------------------------
2025-03-18 06:41:04 - Hospital ID:
26
----------------------------------------
2025-03-18 06:41:04 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => co
)

----------------------------------------
2025-03-18 06:41:04 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:41:04 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %co%
)

----------------------------------------
2025-03-18 06:41:04 - Number of results found:
0
----------------------------------------
2025-03-18 06:41:04 - Search request started
----------------------------------------
2025-03-18 06:41:04 - POST data received:
Array
(
    [organType] => cor
)

----------------------------------------
2025-03-18 06:41:04 - Hospital ID:
26
----------------------------------------
2025-03-18 06:41:04 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => cor
)

----------------------------------------
2025-03-18 06:41:04 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.organ_required) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:41:04 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %cor%
)

----------------------------------------
2025-03-18 06:41:05 - Number of results found:
0
----------------------------------------
2025-03-18 06:41:08 - Search request started
----------------------------------------
2025-03-18 06:41:08 - POST data received:
Array
(
    [bloodType] => a
)

----------------------------------------
2025-03-18 06:41:08 - Hospital ID:
26
----------------------------------------
2025-03-18 06:41:08 - Search parameters:
Array
(
    [bloodType] => a
    [organType] => 
)

----------------------------------------
2025-03-18 06:41:08 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.blood_type) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:41:08 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %a%
)

----------------------------------------
2025-03-18 06:41:08 - Number of results found:
1
----------------------------------------
2025-03-18 06:41:11 - Search request started
----------------------------------------
2025-03-18 06:41:11 - POST data received:
Array
(
    [bloodType] => b
)

----------------------------------------
2025-03-18 06:41:11 - Hospital ID:
26
----------------------------------------
2025-03-18 06:41:11 - Search parameters:
Array
(
    [bloodType] => b
    [organType] => 
)

----------------------------------------
2025-03-18 06:41:11 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.blood_type) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:41:11 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %b%
)

----------------------------------------
2025-03-18 06:41:11 - Number of results found:
0
----------------------------------------
2025-03-18 06:41:13 - Search request started
----------------------------------------
2025-03-18 06:41:13 - POST data received:
Array
(
    [bloodType] => a
)

----------------------------------------
2025-03-18 06:41:13 - Hospital ID:
26
----------------------------------------
2025-03-18 06:41:13 - Search parameters:
Array
(
    [bloodType] => a
    [organType] => 
)

----------------------------------------
2025-03-18 06:41:13 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.blood_type) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:41:13 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %a%
)

----------------------------------------
2025-03-18 06:41:13 - Number of results found:
1
----------------------------------------
2025-03-18 06:41:13 - Search request started
----------------------------------------
2025-03-18 06:41:13 - POST data received:
Array
(
    [bloodType] => ab
)

----------------------------------------
2025-03-18 06:41:13 - Hospital ID:
26
----------------------------------------
2025-03-18 06:41:13 - Search parameters:
Array
(
    [bloodType] => ab
    [organType] => 
)

----------------------------------------
2025-03-18 06:41:13 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.blood_type) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:41:13 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %ab%
)

----------------------------------------
2025-03-18 06:41:13 - Number of results found:
0
----------------------------------------
2025-03-18 06:41:13 - Search request started
----------------------------------------
2025-03-18 06:41:13 - POST data received:
Array
(
    [bloodType] => a
)

----------------------------------------
2025-03-18 06:41:13 - Hospital ID:
26
----------------------------------------
2025-03-18 06:41:13 - Search parameters:
Array
(
    [bloodType] => a
    [organType] => 
)

----------------------------------------
2025-03-18 06:41:13 - Final SQL Query:

        SELECT 
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.organ_required,
            r.email as recipient_email,
            r.phone_number as recipient_phone,
            r.medical_condition,
            r.urgency_level,
            h.hospital_id,
            h.name as hospital_name,
            h.email as hospital_email,
            h.phone as hospital_phone,
            hra.status as approval_status,
            rr.status as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ? 
            AND rr.status IN ('Pending', 'Approved', 'Rejected')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND LOWER(r.blood_type) LIKE ? ORDER BY r.full_name ASC
----------------------------------------
2025-03-18 06:41:13 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %a%
)

----------------------------------------
2025-03-18 06:41:13 - Number of results found:
1
----------------------------------------
2025-03-18 07:41:53 - Search request started
----------------------------------------
2025-03-18 07:41:53 - POST data received:
Array
(
    [organType] => k
)

----------------------------------------
2025-03-18 07:41:53 - Hospital ID:
26
----------------------------------------
2025-03-18 07:41:53 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => k
)

----------------------------------------
2025-03-18 07:41:53 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:41:53 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %k%
    [3] => 26
)

----------------------------------------
2025-03-18 07:41:53 - Number of results found:
0
----------------------------------------
2025-03-18 07:41:55 - Search request started
----------------------------------------
2025-03-18 07:41:55 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 07:41:55 - Hospital ID:
26
----------------------------------------
2025-03-18 07:41:55 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 07:41:55 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:41:55 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
    [3] => 26
)

----------------------------------------
2025-03-18 07:41:55 - Number of results found:
1
----------------------------------------
2025-03-18 07:42:29 - Search request started
----------------------------------------
2025-03-18 07:42:29 - POST data received:
Array
(
    [organType] => k
)

----------------------------------------
2025-03-18 07:42:29 - Hospital ID:
26
----------------------------------------
2025-03-18 07:42:29 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => k
)

----------------------------------------
2025-03-18 07:42:29 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:42:29 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %k%
    [3] => 26
)

----------------------------------------
2025-03-18 07:42:29 - Number of results found:
0
----------------------------------------
2025-03-18 07:42:29 - Search request started
----------------------------------------
2025-03-18 07:42:29 - POST data received:
Array
(
    [organType] => ke
)

----------------------------------------
2025-03-18 07:42:29 - Hospital ID:
26
----------------------------------------
2025-03-18 07:42:29 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => ke
)

----------------------------------------
2025-03-18 07:42:29 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:42:29 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %ke%
    [3] => 26
)

----------------------------------------
2025-03-18 07:42:29 - Number of results found:
0
----------------------------------------
2025-03-18 07:42:30 - Search request started
----------------------------------------
2025-03-18 07:42:30 - POST data received:
Array
(
    [organType] => k
)

----------------------------------------
2025-03-18 07:42:30 - Hospital ID:
26
----------------------------------------
2025-03-18 07:42:30 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => k
)

----------------------------------------
2025-03-18 07:42:30 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:42:30 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %k%
    [3] => 26
)

----------------------------------------
2025-03-18 07:42:30 - Number of results found:
0
----------------------------------------
2025-03-18 07:42:31 - Search request started
----------------------------------------
2025-03-18 07:42:31 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 07:42:31 - Hospital ID:
26
----------------------------------------
2025-03-18 07:42:31 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 07:42:31 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:42:31 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
    [3] => 26
)

----------------------------------------
2025-03-18 07:42:31 - Number of results found:
1
----------------------------------------
2025-03-18 07:43:24 - Search request started
----------------------------------------
2025-03-18 07:43:24 - POST data received:
Array
(
    [organType] => k
)

----------------------------------------
2025-03-18 07:43:24 - Hospital ID:
26
----------------------------------------
2025-03-18 07:43:24 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => k
)

----------------------------------------
2025-03-18 07:43:24 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:43:24 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %k%
    [3] => 26
)

----------------------------------------
2025-03-18 07:43:24 - Number of results found:
0
----------------------------------------
2025-03-18 07:43:24 - Search request started
----------------------------------------
2025-03-18 07:43:24 - POST data received:
Array
(
    [organType] => ki
)

----------------------------------------
2025-03-18 07:43:24 - Hospital ID:
26
----------------------------------------
2025-03-18 07:43:24 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => ki
)

----------------------------------------
2025-03-18 07:43:24 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:43:24 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %ki%
    [3] => 26
)

----------------------------------------
2025-03-18 07:43:24 - Number of results found:
0
----------------------------------------
2025-03-18 07:43:26 - Search request started
----------------------------------------
2025-03-18 07:43:26 - POST data received:
Array
(
    [organType] => k
)

----------------------------------------
2025-03-18 07:43:26 - Hospital ID:
26
----------------------------------------
2025-03-18 07:43:26 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => k
)

----------------------------------------
2025-03-18 07:43:26 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:43:26 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %k%
    [3] => 26
)

----------------------------------------
2025-03-18 07:43:26 - Number of results found:
0
----------------------------------------
2025-03-18 07:43:26 - Search request started
----------------------------------------
2025-03-18 07:43:26 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 07:43:26 - Hospital ID:
26
----------------------------------------
2025-03-18 07:43:26 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 07:43:26 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:43:26 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
    [3] => 26
)

----------------------------------------
2025-03-18 07:43:26 - Number of results found:
1
----------------------------------------
2025-03-18 07:46:38 - Search request started
----------------------------------------
2025-03-18 07:46:38 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 07:46:38 - Hospital ID:
26
----------------------------------------
2025-03-18 07:46:38 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 07:46:38 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:46:38 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
    [3] => 26
)

----------------------------------------
2025-03-18 07:46:38 - Number of results found:
1
----------------------------------------
2025-03-18 07:46:38 - Search request started
----------------------------------------
2025-03-18 07:46:38 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-03-18 07:46:38 - Hospital ID:
26
----------------------------------------
2025-03-18 07:46:38 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-03-18 07:46:38 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:46:38 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %li%
    [3] => 26
)

----------------------------------------
2025-03-18 07:46:38 - Number of results found:
1
----------------------------------------
2025-03-18 07:46:56 - Search request started
----------------------------------------
2025-03-18 07:46:56 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 07:46:56 - Hospital ID:
26
----------------------------------------
2025-03-18 07:46:56 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 07:46:56 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:46:56 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
    [3] => 26
)

----------------------------------------
2025-03-18 07:46:56 - Number of results found:
1
----------------------------------------
2025-03-18 07:46:56 - Search request started
----------------------------------------
2025-03-18 07:46:56 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-03-18 07:46:56 - Hospital ID:
26
----------------------------------------
2025-03-18 07:46:56 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-03-18 07:46:56 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:46:56 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %li%
    [3] => 26
)

----------------------------------------
2025-03-18 07:46:56 - Number of results found:
1
----------------------------------------
2025-03-18 07:49:30 - Search request started
----------------------------------------
2025-03-18 07:49:30 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 07:49:30 - Hospital ID:
26
----------------------------------------
2025-03-18 07:49:30 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 07:49:30 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:49:30 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
    [3] => 26
)

----------------------------------------
2025-03-18 07:49:30 - Number of results found:
1
----------------------------------------
2025-03-18 07:49:32 - Search request started
----------------------------------------
2025-03-18 07:49:32 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-03-18 07:49:32 - Hospital ID:
26
----------------------------------------
2025-03-18 07:49:32 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-03-18 07:49:32 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:49:32 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %li%
    [3] => 26
)

----------------------------------------
2025-03-18 07:49:32 - Number of results found:
1
----------------------------------------
2025-03-18 07:49:38 - Search request started
----------------------------------------
2025-03-18 07:49:38 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 07:49:38 - Hospital ID:
26
----------------------------------------
2025-03-18 07:49:38 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 07:49:38 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:49:38 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
    [3] => 26
)

----------------------------------------
2025-03-18 07:49:38 - Number of results found:
1
----------------------------------------
2025-03-18 07:49:49 - Search request started
----------------------------------------
2025-03-18 07:49:49 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 07:49:49 - Hospital ID:
26
----------------------------------------
2025-03-18 07:49:49 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 07:49:49 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:49:49 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
    [3] => 26
)

----------------------------------------
2025-03-18 07:49:49 - Number of results found:
1
----------------------------------------
2025-03-18 07:49:49 - Search request started
----------------------------------------
2025-03-18 07:49:49 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-03-18 07:49:49 - Hospital ID:
26
----------------------------------------
2025-03-18 07:49:49 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-03-18 07:49:49 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:49:49 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %li%
    [3] => 26
)

----------------------------------------
2025-03-18 07:49:49 - Number of results found:
1
----------------------------------------
2025-03-18 07:49:50 - Search request started
----------------------------------------
2025-03-18 07:49:50 - POST data received:
Array
(
    [organType] => liv
)

----------------------------------------
2025-03-18 07:49:50 - Hospital ID:
26
----------------------------------------
2025-03-18 07:49:50 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => liv
)

----------------------------------------
2025-03-18 07:49:50 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:49:50 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %liv%
    [3] => 26
)

----------------------------------------
2025-03-18 07:49:50 - Number of results found:
1
----------------------------------------
2025-03-18 07:49:51 - Search request started
----------------------------------------
2025-03-18 07:49:51 - POST data received:
Array
(
    [organType] => live
)

----------------------------------------
2025-03-18 07:49:51 - Hospital ID:
26
----------------------------------------
2025-03-18 07:49:51 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => live
)

----------------------------------------
2025-03-18 07:49:51 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:49:51 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %live%
    [3] => 26
)

----------------------------------------
2025-03-18 07:49:51 - Number of results found:
1
----------------------------------------
2025-03-18 07:49:51 - Search request started
----------------------------------------
2025-03-18 07:49:51 - POST data received:
Array
(
    [organType] => liver
)

----------------------------------------
2025-03-18 07:49:51 - Hospital ID:
26
----------------------------------------
2025-03-18 07:49:51 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => liver
)

----------------------------------------
2025-03-18 07:49:51 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 07:49:51 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %liver%
    [3] => 26
)

----------------------------------------
2025-03-18 07:49:51 - Number of results found:
1
----------------------------------------
2025-03-18 08:41:56 - Search request started
----------------------------------------
2025-03-18 08:41:56 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 08:41:56 - Hospital ID:
26
----------------------------------------
2025-03-18 08:41:56 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 08:41:56 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 08:41:56 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
    [3] => 26
)

----------------------------------------
2025-03-18 08:41:56 - Number of results found:
1
----------------------------------------
2025-03-18 08:42:02 - Search request started
----------------------------------------
2025-03-18 08:42:02 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 08:42:02 - Hospital ID:
26
----------------------------------------
2025-03-18 08:42:02 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 08:42:02 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 08:42:02 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
    [3] => 26
)

----------------------------------------
2025-03-18 08:42:02 - Number of results found:
1
----------------------------------------
2025-03-18 08:42:31 - Search request started
----------------------------------------
2025-03-18 08:42:31 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 08:42:31 - Hospital ID:
26
----------------------------------------
2025-03-18 08:42:31 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 08:42:31 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 08:42:31 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
    [3] => 26
)

----------------------------------------
2025-03-18 08:42:31 - Number of results found:
1
----------------------------------------
2025-03-18 08:42:33 - Search request started
----------------------------------------
2025-03-18 08:42:33 - POST data received:
Array
(
    [organType] => li
)

----------------------------------------
2025-03-18 08:42:33 - Hospital ID:
26
----------------------------------------
2025-03-18 08:42:33 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => li
)

----------------------------------------
2025-03-18 08:42:33 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 08:42:33 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %li%
    [3] => 26
)

----------------------------------------
2025-03-18 08:42:33 - Number of results found:
1
----------------------------------------
2025-03-18 08:42:35 - Search request started
----------------------------------------
2025-03-18 08:42:35 - POST data received:
Array
(
    [organType] => l
)

----------------------------------------
2025-03-18 08:42:35 - Hospital ID:
26
----------------------------------------
2025-03-18 08:42:35 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => l
)

----------------------------------------
2025-03-18 08:42:35 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 08:42:35 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %l%
    [3] => 26
)

----------------------------------------
2025-03-18 08:42:35 - Number of results found:
1
----------------------------------------
2025-03-18 08:42:36 - Search request started
----------------------------------------
2025-03-18 08:42:36 - POST data received:
Array
(
    [organType] => k
)

----------------------------------------
2025-03-18 08:42:36 - Hospital ID:
26
----------------------------------------
2025-03-18 08:42:36 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => k
)

----------------------------------------
2025-03-18 08:42:36 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 08:42:36 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %k%
    [3] => 26
)

----------------------------------------
2025-03-18 08:42:36 - Number of results found:
0
----------------------------------------
2025-03-18 08:42:36 - Search request started
----------------------------------------
2025-03-18 08:42:36 - POST data received:
Array
(
    [organType] => ki
)

----------------------------------------
2025-03-18 08:42:36 - Hospital ID:
26
----------------------------------------
2025-03-18 08:42:36 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => ki
)

----------------------------------------
2025-03-18 08:42:36 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 08:42:36 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %ki%
    [3] => 26
)

----------------------------------------
2025-03-18 08:42:36 - Number of results found:
0
----------------------------------------
2025-03-18 08:42:37 - Search request started
----------------------------------------
2025-03-18 08:42:37 - POST data received:
Array
(
    [organType] => k
)

----------------------------------------
2025-03-18 08:42:37 - Hospital ID:
26
----------------------------------------
2025-03-18 08:42:37 - Search parameters:
Array
(
    [bloodType] => 
    [organType] => k
)

----------------------------------------
2025-03-18 08:42:37 - Final SQL Query:

        SELECT DISTINCT
            r.id as recipient_id,
            r.full_name as recipient_name,
            r.blood_type,
            r.medical_condition,
            r.urgency_level,
            r.phone_number as recipient_phone,
            r.email as recipient_email,
            r.organ_required,
            h.hospital_id,
            h.name as hospital_name,
            CASE 
                WHEN rr.status = 'Pending' THEN 'Pending'
                WHEN rr.status = 'Approved' THEN 'Approved'
                ELSE 'Not Requested'
            END as request_status
        FROM recipient_registration r
        INNER JOIN hospital_recipient_approvals hra ON r.id = hra.recipient_id
        INNER JOIN hospitals h ON hra.hospital_id = h.hospital_id
        LEFT JOIN recipient_requests rr ON r.id = rr.recipient_id 
            AND rr.requesting_hospital_id = ?
            AND rr.status IN ('Pending', 'Approved')
        WHERE hra.status = 'approved'
        AND h.hospital_id != ?
        AND NOT EXISTS (
            SELECT 1 FROM donor_and_recipient_requests 
            WHERE recipient_id = r.id
        )
     AND r.organ_required LIKE ? ORDER BY 
        CASE WHEN hra.hospital_id = ? THEN 0 ELSE 1 END,
        r.urgency_level DESC,
        r.full_name ASC
----------------------------------------
2025-03-18 08:42:37 - Query Parameters:
Array
(
    [0] => 26
    [1] => 26
    [2] => %k%
    [3] => 26
)

----------------------------------------
2025-03-18 08:42:37 - Number of results found:
0
----------------------------------------
